<mvc:View
    controllerName="com.bts.zbts.controller.ProjectDetail"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:t="sap.ui.table"> <Page title="Project Detail Structure" showNavButton="true" navButtonPress=".onNavBack">
        <content>
            
            <ObjectHeader
                title="{viewData>/ProjectName}"
                number="{viewData>/Status}"
                numberState="{viewData>/StatusState}"
                intro="{viewData>/ProjectID}">
                <attributes>
                    <ObjectAttribute text="Location: {viewData>/Location}" />
                    <ObjectAttribute text="PM: {viewData>/Manager}" />
                </attributes>
            </ObjectHeader>

            <Panel headerText="Work Breakdown Structure (WBS)" 
                   visible="{viewConfig>/visible/wbsSection}"
                   height="100%">
                
                <t:TreeTable
                    id="TreeTableBasic"
                    rows="{path:'viewData>/WBS', parameters: {arrayNames:['children']}}"
                    selectionMode="None"
                    enableColumnReordering="false">
                    <t:columns>
                        <t:Column width="20rem"><Label text="Task Name"/><t:template><Text text="{viewData>TaskName}"/></t:template></t:Column>
                        <t:Column width="6rem"><Label text="Type"/><t:template><Text text="{viewData>Type}"/></t:template></t:Column>
                        <t:Column><Label text="Status"/><t:template><Text text="{viewData>Status}"/></t:template></t:Column>
                    </t:columns>
                </t:TreeTable>
            </Panel>

        </content>

        <footer>
            <OverflowToolbar>
                <ToolbarSpacer/>
                
                <Button text="Approve (Commander)" 
                        type="Accept" 
                        visible="{viewConfig>/visible/btnCommanderApprove}"
                        press=".onCommanderApprove"/>
                
                <Button text="Reject (Commander)" 
                        type="Reject" 
                        visible="{viewConfig>/visible/btnCommanderApprove}"
                        press=".onReject"/>

                <Button text="Verify &amp; Approve (Consultant)" 
                        type="Accept" 
                        visible="{viewConfig>/visible/btnConsultantApprove}"
                        press=".onConsultantApprove"/>

                <Button text="Reject (Consultant)" 
                        type="Reject" 
                        visible="{viewConfig>/visible/btnConsultantApprove}"
                        press=".onReject"/>
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>