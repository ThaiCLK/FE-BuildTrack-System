<mvc:View
    controllerName="com.bts.zbts.controller.ProjectDetail"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core">
    
    <Page 
        title="{viewData>/ProjectName} ({viewData>/ProjectCode})" 
        showNavButton="true" 
        navButtonPress=".onNavBack" 
        class="sapUiContentPadding">
        
        <content>
            <IconTabBar id="idDetailTabBar" expanded="true" stretchContentHeight="true">
                <items>
                    <IconTabFilter icon="sap-icon://tree" text="Cấu trúc WBS" key="wbs">
                        <core:Fragment fragmentName="com.bts.zbts.view.fragments.WBS" type="XML" />
                    </IconTabFilter>

                    <IconTabFilter icon="sap-icon://map" text="Vị trí" key="loc">
                         <core:Fragment fragmentName="com.bts.zbts.view.fragments.Location" type="XML" />
                    </IconTabFilter>

                    <IconTabFilter icon="sap-icon://form" text="Nhật ký thi công" key="log">
                         <mvc:XMLView viewName="com.bts.zbts.view.DailyLog" />
                    </IconTabFilter>

                    <IconTabFilter icon="sap-icon://manager-insight" text="Báo cáo" key="rep">
                         <core:Fragment fragmentName="com.bts.zbts.view.fragments.Report" type="XML" />
                    </IconTabFilter>
                </items>
            </IconTabBar>
        </content>

        <footer>
            <OverflowToolbar>
                <ToolbarSpacer/>
                <Button 
                    text="Lưu thay đổi" 
                    icon="sap-icon://save" 
                    type="Emphasized" 
                    press=".onSaveProject"
                    visible="{viewConfig>/visible/btnSave}" />
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>